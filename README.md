# 自习课噪音监控系统

一个功能完善的教室噪音监测和管理系统，支持多班级管理、用户权限控制和内网部署。

## ✨ 主要功能

- 🎤 **实时噪音监测** - 实时显示环境噪音分贝值
- 📊 **可视化展示** - 波形图和进度条直观展示噪音水平
- 🎬 **自动录音录像** - 超过阈值自动开始录制
- 📚 **多班级管理** - 支持创建和管理多个班级
- 👥 **权限管理** - 教师、年级管理员、超级管理员三级权限
- 📁 **历史记录** - 完整的录制历史记录和查询功能
- 📥 **数据导出** - 支持CSV格式导出
- 🔔 **浏览器通知** - 噪音超标时发送通知
- 🌐 **内网部署** - 支持校园内网部署，傻瓜式安装

## 🚀 快速开始

### 方式一：一键启动（Windows）

双击 `start-server.bat` 文件，然后在浏览器访问 `http://localhost:8080`

### 方式二：手动启动

```bash
# 使用Python
python -m http.server 8080

# 或使用Node.js
npx http-server -p 8080
```

详细安装说明请查看 [安装指南.md](安装指南.md)

## 🔐 后端默认账号

- **用户名**: `admin`
- **密码**: `admin123`

⚠️ **首次登录后请立即修改密码！**

## 📖 使用说明

1. **登录系统** - 使用默认管理员账号登录
2. **创建班级** - 点击"创建新班级"添加要监控的班级
3. **创建用户** - 为教师创建账号并分配权限
4. **选择班级** - 在班级选择器中选择要监控的班级
5. **开始监控** - 点击"开始监控"按钮，允许浏览器访问麦克风
6. **查看记录** - 在历史记录面板查看所有录制记录

## 🏗️ 系统架构

- **前端**: HTML5 + CSS3 + JavaScript (ES6+)
- **数据存储**: IndexedDB (浏览器本地数据库)
- **音频处理**: Web Audio API
- **媒体录制**: MediaRecorder API

## 📁 文件结构

```
项目1/
├── index.html          # 主页面
├── app.js              # 核心功能代码
├── style.css           # 样式文件
├── start-server.bat    # Windows启动脚本
├── 安装指南.md          # 详细安装说明
└── README.md           # 本文件
```

## 🔧 配置说明

### 噪音阈值设置

- **警告阈值**: 默认80分贝，可在设置中调整
- **最大警告次数**: 默认3次，超过后自动开始录制
- **恢复判定偏移**: 低于阈值5分贝视为恢复
- **自动停止延迟**: 恢复后5秒自动停止录制

### 权限说明

| 角色 | 权限 |
|------|------|
| 教师 | 创建和管理自己的班级，查看自己班级的记录 |
| 年级管理员 | 查看所有班级，创建用户，管理班级 |
| 超级管理员 | 所有权限 |

## 🌐 内网部署

系统支持在校园内网中部署，其他教师可通过浏览器访问：

1. 在服务器上启动系统
2. 获取服务器IP地址
3. 配置防火墙允许端口访问
4. 其他设备访问：`http://[服务器IP]:8080`

详细部署说明请查看 [安装指南.md](安装指南.md)

## 📝 更新日志

### v2.1 (当前版本)
- ✅ 添加用户登录和权限管理系统
- ✅ 添加多班级管理功能
- ✅ 添加内网部署支持
- ✅ 优化UI界面
- ✅ 添加安装指南

### v1.0
- ✅ 基础噪音监测功能
- ✅ 自动录音录像
- ✅ 历史记录功能

## 🤝 贡献

欢迎提交问题和改进建议！

## 📄 许可证

本项目仅供学习和教育使用。

---

**开发团队** | **版本**: 2.1 | **更新**: 2025


